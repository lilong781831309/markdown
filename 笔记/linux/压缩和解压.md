[TOC]

# 常用压缩解压命令

## 1、gzip/gunzip

### 1)、用法

```shell
gzip    文件	              （功能描述：压缩文件，只能将文件压缩为*.gz文件）
gzip -c 文件 > 文件名.gz     （功能描述：压缩文件，保留源文件并指定文件名）
gunzip  文件.gz	          （功能描述：解压缩文件命令）
```

### 2)、特点

- 只能压缩文件不能压缩目录
- 默认删除源文件
- 同时多个文件会产生多个压缩包

### 3)、示例

- ```shell
  #ll
  total 16
  -rw-r--r-- 1 root root  560 Apr  8 22:08 test1.txt
  -rw-r--r-- 1 root root 1716 Apr  8 22:08 test2.txt
  -rw-r--r-- 1 root root 4284 Apr  8 22:09 test3.txt
  ```

- ```shell
  # gzip test1.txt test2.txt test3.txt
  # ll
  total 12
  -rw-r--r-- 1 root root 61 Apr  8 22:08 test1.txt.gz
  -rw-r--r-- 1 root root 78 Apr  8 22:08 test2.txt.gz
  -rw-r--r-- 1 root root 67 Apr  8 22:09 test3.txt.gz
  ```

- ```shell
  # gunzip test1.txt.gz test2.txt.gz test3.txt.gz
  # ll
  total 16
  -rw-r--r-- 1 root root  560 Apr  8 22:08 test1.txt
  -rw-r--r-- 1 root root 1716 Apr  8 22:08 test2.txt
  -rw-r--r-- 1 root root 4284 Apr  8 22:09 test3.txt
  ```

- ```shell
  # gzip -c test1.txt > test.txt.gz
  # ll
  total 20
  -rw-r--r-- 1 root root  560 Apr  8 22:08 test1.txt
  -rw-r--r-- 1 root root 1716 Apr  8 22:08 test2.txt
  -rw-r--r-- 1 root root 4284 Apr  8 22:09 test3.txt
  -rw-r--r-- 1 root root   61 Apr  8 22:39 test.txt.gz
  ```

  

## 2、zip/unzip  

### 1)、用法

```shell
zip     [选项] XXX.zip 要压缩的内容     （功能描述：压缩文件和目录的命令）
unzip   [选项] XXX.zip				   （功能描述：解压缩文件）
```

### 2)、选项说明

```shell
zip选项	    -r	        压缩目录
unzip选项	    -d      	指定解压后文件的存放目录
```
### 3)、特点

zip 压缩命令在window/linux都通用，可以压缩目录且保留源文件。

### 4)、示例

- ```shell
  # ll
  total 16
  -rw-r--r-- 1 root root  560 Apr  8 22:08 test1.txt
  -rw-r--r-- 1 root root 1716 Apr  8 22:08 test2.txt
  -rw-r--r-- 1 root root 4284 Apr  8 22:09 test3.txt
  ```

- ```shell
  # zip test.zip test1.txt test2.txt test3.txt
  adding: test1.txt (deflated 94%)
  adding: test2.txt (deflated 97%)
  adding: test3.txt (deflated 99%)
  # ll
  total 20
  -rw-r--r-- 1 root root  560 Apr  8 22:08 test1.txt
  -rw-r--r-- 1 root root 1716 Apr  8 22:08 test2.txt
  -rw-r--r-- 1 root root 4284 Apr  8 22:09 test3.txt
  -rw-r--r-- 1 root root  582 Apr  8 22:09 test.zip
  ```

- ````shell
  # mkdir testdir
  # ll
  total 24
  -rw-r--r-- 1 root root  560 Apr  8 22:08 test1.txt
  -rw-r--r-- 1 root root 1716 Apr  8 22:08 test2.txt
  -rw-r--r-- 1 root root 4284 Apr  8 22:09 test3.txt
  drwxr-xr-x 2 root root 4096 Apr  8 22:12 testdir
  -rw-r--r-- 1 root root  582 Apr  8 22:09 test.zip
  ````

- ```shell
  # unzip -d testdir test.zip 
  Archive:  test.zip
  inflating: testdir/test1.txt       
  inflating: testdir/test2.txt       
  inflating: testdir/test3.txt
  ```

- ```shell
  # ll testdir
  total 16
  -rw-r--r-- 1 root root  560 Apr  8 22:08 test1.txt
  -rw-r--r-- 1 root root 1716 Apr  8 22:08 test2.txt
  -rw-r--r-- 1 root root 4284 Apr  8 22:09 test3.txt
  ```

- ```shell
  # zip -r test.zip testdir
  adding: testdir/ (stored 0%)
  adding: testdir/test2.txt (deflated 97%)
  adding: testdir/test1.txt (deflated 94%)
  adding: testdir/test3.txt (deflated 99%)
  ```

- ```shell
  # mkdir test
  # unzip -d test test.zip 
  Archive:  test.zip
    creating: test/testdir/
  inflating: test/testdir/test2.txt  
  inflating: test/testdir/test1.txt  
  inflating: test/testdir/test3.txt
  ```

## 3、tar

### 1)、用法

```shell
tar  [选项]  XXX.tar.gz  将要打包进去的内容	(功能描述：打包目录，压缩后的文件格式.tar.gz)
```

### 2)、选项

```shell
-c	产生.tar打包文件
-v	显示详细信息
-f	指定压缩后的文件名
-z	打包同时压缩
-x	解包.tar文件
-C	解压到指定目录
```

### 3)、常规用法: 

```shell
压缩                tar -zcvf
解压                tar -zxvf
解压到指定目录        tar -zxvf -C /path/
```
### 4)、示例

1. 压缩多个文件

   ```shell
   # tar -zcvf test.tar.gz test1.txt test2.txt test3.txt
   test1.txt
   test2.txt
   test3.txt
   # ll
   total 20
   -rw-r--r-- 1 root root  560 Apr  8 22:08 test1.txt
   -rw-r--r-- 1 root root 1716 Apr  8 22:08 test2.txt
   -rw-r--r-- 1 root root 4284 Apr  8 22:09 test3.txt
   -rw-r--r-- 1 root root  252 Apr  8 22:48 test.tar.gz
   ```

2. 压缩目录

   ```shell
   # mkdir test
   # mv test*.txt test
   # tar -zcvf test.tar.gz test
   test/
   test/test2.txt
   test/test1.txt
   test/test3.txt
   # ll
   total 8
   drwxr-xr-x 2 root root 4096 Apr  8 22:53 test
   -rw-r--r-- 1 root root  307 Apr  8 22:53 test.tar.gz
   ```

3. 解压到当前目录

   ```shell
   # rm -rf test
   # ll
   total 4
   -rw-r--r-- 1 root root 307 Apr  8 22:53 test.tar.gz
   # tar -zxvf test.tar.gz 
   test/
   test/test2.txt
   test/test1.txt
   test/test3.txt
   # ll
   total 8
   drwxr-xr-x 2 root root 4096 Apr  8 22:53 test
   -rw-r--r-- 1 root root  307 Apr  8 22:53 test.tar.gz
   # ll test
   total 16
   -rw-r--r-- 1 root root  560 Apr  8 22:08 test1.txt
   -rw-r--r-- 1 root root 1716 Apr  8 22:08 test2.txt
   -rw-r--r-- 1 root root 4284 Apr  8 22:09 test3.txt
   ```

4. 解压到指定目录

   ```shell
   # mkdir dir
   # tar -zxvf test.tar.gz -C dir
   test/
   test/test2.txt
   test/test1.txt
   test/test3.txt
   # ll dir
   total 4
   drwxr-xr-x 2 root root 4096 Apr  8 22:53 test
   # ll dir/test/
   total 16
   -rw-r--r-- 1 root root  560 Apr  8 22:08 test1.txt
   -rw-r--r-- 1 root root 1716 Apr  8 22:08 test2.txt
   -rw-r--r-- 1 root root 4284 Apr  8 22:09 test3.txt
   ```

## 4、bz2

### 1)、用法

```shell
tar jcf xxx.tar.bz2 /dir    把文件归档成tar并压缩成bz2
tar jxf xxx.tar.bz2         解压并解档bz2格式压缩包
    
bzip2   xxx.tar             压缩成bz2格式
bunzip2 xxx.tar.bz2         解压bz2格式压缩包
```

### 2)、示例

1. 归档成tar并压缩成bz2

   ```shell
   # ll test
   total 12
   -rw-r--r-- 1 root root 1287 Apr  8 23:18 test1.txt
   -rw-r--r-- 1 root root 1287 Apr  8 23:18 test2.txt
   -rw-r--r-- 1 root root 1287 Apr  8 23:18 test3.txt
   # tar jcf test.tar.bz2 test
   # ll
   total 8
   drwxr-xr-x 2 root root 4096 Apr  8 23:18 test
   -rw-r--r-- 1 root root  190 Apr  8 23:24 test.tar.bz2
   ```

2. 解压bz2格式压缩包

   ```shell
   # bunzip2 test.tar.bz2 
   # ll
   total 16
   drwxr-xr-x 2 root root  4096 Apr  8 23:18 test
   -rw-r--r-- 1 root root 10240 Apr  8 23:27 test.tar
   ```

3. 解压bz2格式压缩包

   ```shell
   # bzip2 test.tar
   # ll
   total 8
   drwxr-xr-x 2 root root 4096 Apr  8 23:18 test
   -rw-r--r-- 1 root root  190 Apr  8 23:27 test.tar.bz2
   ```

4. 解压并解档bz2格式压缩包

   ```shell
   # rm -rf test
   # tar -jxf test.tar.bz2 
   # ll
   total 8
   drwxr-xr-x 2 root root 4096 Apr  8 23:18 test
   -rw-r--r-- 1 root root  190 Apr  8 23:24 test.tar.bz2
   # ll test
   total 12
   -rw-r--r-- 1 root root 1287 Apr  8 23:18 test1.txt
   -rw-r--r-- 1 root root 1287 Apr  8 23:18 test2.txt
   -rw-r--r-- 1 root root 1287 Apr  8 23:18 test3.txt
   ```

   